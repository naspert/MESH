
       MESH: Measuring Error between Surfaces using the Hausdorff distance

                         ------------------------

The MESH tool measures the distance between two discrete surfaces described as
triangular meshes. The topology of the meshes needs not be the same, arbitrary
topologies can be compared.

* Requirements
To compile the program the Qt libraries, version 2.3.0 or later with the
support OpenGL compiled in, are required, in addition to a C and C++ compiler.
The Qt library source code can be downloaded for free at Trolltech's website 
(http://www.trolltech.com/developer/download ) for all the Unix-like systems. 
For Windows users, a precompiled Qt v2.3.0 is also available for free 
(provided it is used for non-commercial purposes). 
The MESH tool works identically with both *nix/Windows versions of Qt. We 
have been able to compile and run it successfully under Linux, Solaris 5.8, 
IRIX 6.5, Windows 98/Me/2000.
The MESH tool has also been tested to work using Qt version 3. You need to
have at least Qt 3.0.2 to make MESH work properly (due to layout bugs in
Qt 3.0.x, x < 2).

* Installation - Unix
The QTDIR environment variable should point to the QT installation directory.
Type 'make all' at the command prompt and the executable, mesh, will be
installed in the ./bin directory. To get a command line syntax, type
'./bin/mesh -h' at the command line prompt. The current Makefile requires
GNU make and supports Linux (with GCC), IRIX (with the MIPSPro compilers) 
and Solaris (with the Sun compiler). Other configurations might require some 
(hopefully minor) modifications.

* Specific notes for RedHat-7.3 :
Several things are broken, on RedHat's side:
      - You cannot use the OpenGL window, since calling the QGLWidget 
	constructor does a segfault in Qt internals (reported as 
	bug #65338 in RedHat's BugZilla), both with the Qt 2.3.1 and
	Qt 3.0.3 provided by RedHat. Solution : get the latest Qt tarball 
	from TrollTech, compile it (*sigh*) and link MESH against it. Running
	MESH in 'text-only' mode does not cause any problem.
      - If you want to compile Mesh with RedHat's Qt 2.3.1 you have to
	add libpthread at link time (why ??). To do so, edit the Makefile,
	and add '-lpthread' to the 'LDLIBS' var. (line 348)

* Notes for using Intel compiler (ICC) or Portland Group compiler (PGCC)
This section only applies for Linux. The Makefile will try to detect your
CPU model via '/proc/cpuinfo'. You can always override the detection by
setting the 'CPU' variable for your target machine after the detection 
code (around line 100).

* Installation - Windows
You *MUST* install the Qt library prior to any other step. Please note that 
you have to install it in a path that does not contain a space (e.g. not 
in 'C:\Program Files\Qt', but for instance in 'C:\Qt'). We provide the 
Micro$oft Visual C++ 6 dsp and dsw files needed to build the program.

* Input data format 
The input file format for the triangular meshes is a raw ASCII format, VRML2, 
Inventor 2.x and SMF format (used by  M. Garland's 'QSlim'). On systems having 
zlib (>= 1.1) installed, MESH offers the possiblity of directly reading 
gzipped files (gzipped VRML is in the standard). Please note that most of 
Win32 systems do not have zlib installed. Therefore, on such systems, the
program is build without this support for gzipped files.  However,
it is possible to install zlib on Win32 systems. If you did so, and
wish to build MESH with zlib on Win32 system, uncomment the relevant
part in 'lib3d/include/model_in.h' (lines 83-85), tweak the project
files, and please provide feedback to us about your successes/failures. 
We have been able to make it work, but this has not been 'automated' in the 
build process under VC++ (this is your chance to add your name in the author 
list ;-).



* The raw ASCII format describes the vertices, the vertex connectivity
and optionally the vertex normals. The first line should contain two or three
decimal numbers with the number of vertices, the number of triangles and the
number of vertex normals (if they are present). If the vertex normals are
present, their number must equal the number of vertices. Follow the X, Y, Z
affine coordinates for each vertex and then the indices of the three vertices
of each triangular face. The vertex indices are zero based. If the vertex
normals are given follows the X, Y, Z affine coordinates of the vertex normal
vectors, in the same order as the vertices. The normal vectors should all be
normalized. 
* The VRML2 parser reads IndexedFaceSet nodes, ignoring all
transformations, and does not support USE tags (DEF tags are ignored). Only
triangular meshes are accepted.
* The Inventor parser only reads the Coordinate3-point and 
IndexedFaceSet-coordIndex nodes. It will ignore all other fields, 
icluding Normal vectors.
* The SMF parser will *only* read vertices and triangular faces. It will ignore 
everything else in the SMF specification (bindings, colors, transforms, 
begin/end ...).

Please report any bugs or comments to:

	Nicolas Aspert <Nicolas.Aspert@epfl.ch>
	Diego SantaCruz <Diego.SantaCruz@epfl.ch>
